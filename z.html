<script>
// router.get("/locations/saved", function (req, res){
//     db.locations.findAll({
//         where:{
//         userId: req.session.user.id
//         }

//     }).then(function(savedLoc){
//         res.json(savedLoc)

//     }).catch(err => {
//         console.log(err);
//         res.status(500).json(err);
//     });
// })
map.on("load", function(){
    map.loadImage("https://i.imgur.com/MK4NUzI.png", function (
      error,
      image
    ) {
      if (error) throw error;
      map.addImage("custom-marker", image);
      map.addLayer({
        maxzoom: 15,
        id: this.name,
        type: "symbol",
        source: {
          type: "geojson",
          data: {
            type: "FeatureCollection",
            features: [
              {
                type: "Feature",
                properties: {
                  description:
                    "<strong>" +
                    this.name +
                    `</strong></br><img class= "image"src= "${this.image}"/><p>` +
                    this.review +
                    "</p><p class='address'>" +
                    this.address +
                    "</p>",
                },
                geometry: {
                  type: "Point",
                  coordinates: [this.long, this.lat],
                },
              },
            ],
          },
        },
        layout: {
          "icon-image": "custom-marker",
          "icon-allow-overlap": true,
          "symbol-placement": "point",
          "icon-anchor": "bottom",
        },
      });
    });
  })
</script>